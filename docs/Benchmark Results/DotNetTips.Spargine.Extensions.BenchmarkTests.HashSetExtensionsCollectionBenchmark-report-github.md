```

BenchmarkDotNet v0.15.2, Windows 10 (10.0.19045.6093/22H2/2022Update)
Intel Core i5-10400 CPU 2.90GHz, 1 CPU, 12 logical and 6 physical cores
.NET SDK 9.0.302
  [Host]     : .NET 8.0.18 (8.0.1825.31117), X64 RyuJIT AVX2
  Job-ZSLFFS : .NET 8.0.18 (8.0.1825.31117), X64 RyuJIT AVX2

EvaluateOverhead=True  Runtime=.NET 8.0  Server=True  
Namespace=DotNetTips.Spargine.Extensions.BenchmarkTests  Categories=Collections  

```
| Method              | Count | Mean          | Error        | StdDev       | StdErr       | Median        | Min           | Q1            | Q3            | Max           | Op/s         | CI99.9% Margin | Iterations | Kurtosis | MValue | Skewness | Rank | LogicalGroup | Baseline | Code Size | Exceptions | Completed Work Items | Lock Contentions | Gen0   | Gen1   | Allocated |
|-------------------- |------ |--------------:|-------------:|-------------:|-------------:|--------------:|--------------:|--------------:|--------------:|--------------:|-------------:|---------------:|-----------:|---------:|-------:|---------:|-----:|------------- |--------- |----------:|-----------:|---------------------:|-----------------:|-------:|-------:|----------:|
| **AddIf**               | **16**    |      **76.84 ns** |     **0.494 ns** |     **0.462 ns** |     **0.119 ns** |      **76.63 ns** |      **76.42 ns** |      **76.54 ns** |      **77.10 ns** |      **77.71 ns** | **13,013,769.3** |      **7.4403 ns** |      **15.00** |    **1.964** |  **2.000** |   **0.8982** |    **2** | *****            | **No**       |   **1,267 B** |          **-** |                    **-** |                **-** |      **-** |      **-** |         **-** |
| AddIf               | 32    |      69.52 ns |     0.588 ns |     0.550 ns |     0.142 ns |      69.49 ns |      68.35 ns |      69.18 ns |      69.90 ns |      70.34 ns | 14,385,209.6 |      7.4290 ns |      15.00 |    2.164 |  2.000 |  -0.2459 |    1 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 64    |      82.31 ns |     0.771 ns |     0.722 ns |     0.186 ns |      82.53 ns |      80.86 ns |      81.92 ns |      82.74 ns |      83.27 ns | 12,149,618.7 |      7.4068 ns |      15.00 |    2.140 |  2.000 |  -0.6127 |    3 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 128   |      71.13 ns |     0.560 ns |     0.524 ns |     0.135 ns |      71.25 ns |      70.06 ns |      70.92 ns |      71.43 ns |      71.97 ns | 14,057,851.2 |      7.4324 ns |      15.00 |    2.266 |  2.000 |  -0.4729 |    1 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 256   |      75.48 ns |     0.510 ns |     0.477 ns |     0.123 ns |      75.45 ns |      74.44 ns |      75.18 ns |      75.87 ns |      76.14 ns | 13,248,976.6 |      7.4384 ns |      15.00 |    2.245 |  2.000 |  -0.3800 |    2 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 512   |      76.32 ns |     0.417 ns |     0.390 ns |     0.101 ns |      76.35 ns |      75.46 ns |      76.04 ns |      76.63 ns |      76.86 ns | 13,103,574.5 |      7.4497 ns |      15.00 |    2.216 |  2.000 |  -0.4209 |    2 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 1024  |      76.59 ns |     0.421 ns |     0.394 ns |     0.102 ns |      76.63 ns |      75.68 ns |      76.40 ns |      76.82 ns |      77.20 ns | 13,055,741.6 |      7.4491 ns |      15.00 |    2.765 |  2.000 |  -0.4953 |    2 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| AddIf               | 2048  |      78.12 ns |     0.596 ns |     0.557 ns |     0.144 ns |      77.99 ns |      77.02 ns |      77.84 ns |      78.42 ns |      79.21 ns | 12,800,417.7 |      7.4280 ns |      15.00 |    2.405 |  2.000 |  -0.0095 |    2 | *            | No       |   1,267 B |          - |                    - |                - |      - |      - |         - |
| **ToConcurrentHashSet** | **16**    |   **2,536.58 ns** |     **7.748 ns** |     **6.868 ns** |     **1.836 ns** |   **2,536.23 ns** |   **2,522.90 ns** |   **2,533.05 ns** |   **2,539.17 ns** |   **2,548.61 ns** |    **394,231.6** |      **6.0822 ns** |      **14.00** |    **2.580** |  **2.000** |   **0.1021** |    **8** | *****            | **No**       |        **NA** |          **-** |                    **-** |                **-** | **0.0343** |      **-** |    **3216 B** |
| ToConcurrentHashSet | 32    |   5,531.06 ns |    35.119 ns |    32.850 ns |     8.482 ns |   5,526.66 ns |   5,460.48 ns |   5,511.03 ns |   5,548.04 ns |   5,600.68 ns |    180,797.3 |      3.2590 ns |      15.00 |    3.063 |  2.000 |   0.0535 |   10 | *            | No       |        NA |          - |                    - |                - | 0.0687 |      - |    6896 B |
| ToConcurrentHashSet | 64    |  12,371.18 ns |    55.394 ns |    51.815 ns |    13.379 ns |  12,357.69 ns |  12,296.81 ns |  12,338.71 ns |  12,400.71 ns |  12,485.95 ns |     80,833.0 |      0.8107 ns |      15.00 |    2.531 |  2.000 |   0.6780 |   12 | *            | No       |        NA |          - |                    - |                - | 0.1678 |      - |   16408 B |
| ToConcurrentHashSet | 128   |  24,186.09 ns |    99.339 ns |    92.922 ns |    23.992 ns |  24,192.95 ns |  23,975.94 ns |  24,139.15 ns |  24,246.42 ns |  24,340.99 ns |     41,346.1 |     -4.4961 ns |      15.00 |    2.642 |  2.000 |  -0.4506 |   13 | *            | No       |        NA |          - |                    - |                - | 0.3052 |      - |   30544 B |
| ToConcurrentHashSet | 256   |  54,186.54 ns |   193.801 ns |   171.799 ns |    45.915 ns |  54,229.57 ns |  53,932.32 ns |  54,025.17 ns |  54,271.48 ns |  54,525.26 ns |     18,454.8 |    -15.9576 ns |      14.00 |    2.042 |  2.000 |   0.0461 |   14 | *            | No       |        NA |          - |                    - |                - | 0.6104 |      - |   61768 B |
| ToConcurrentHashSet | 512   | 128,692.93 ns | 1,797.752 ns | 1,681.618 ns |   434.192 ns | 128,076.03 ns | 126,796.90 ns | 127,505.52 ns | 129,516.52 ns | 131,685.72 ns |      7,770.4 |   -209.5960 ns |      15.00 |    1.917 |  2.000 |   0.6790 |   16 | *            | No       |        NA |          - |                    - |                - | 1.4648 |      - |  142528 B |
| ToConcurrentHashSet | 1024  | 186,217.64 ns | 1,906.529 ns | 1,783.369 ns |   460.464 ns | 185,437.04 ns | 183,867.92 ns | 184,919.31 ns | 187,352.17 ns | 189,568.31 ns |      5,370.1 |   -222.7319 ns |      15.00 |    1.936 |  2.000 |   0.5107 |   18 | *            | No       |        NA |          - |                    - |                - | 1.4648 |      - |  144968 B |
| ToConcurrentHashSet | 2048  | 482,006.70 ns | 9,067.527 ns | 8,481.771 ns | 2,189.984 ns | 481,570.95 ns | 469,565.09 ns | 476,781.59 ns | 486,608.79 ns | 499,436.18 ns |      2,074.7 | -1,087.4919 ns |      15.00 |    2.130 |  2.000 |   0.3755 |   20 | *            | No       |        NA |          - |                    - |                - | 4.8828 | 0.9766 |  467888 B |
| **ToImmutableHashSet**  | **16**    |   **2,458.45 ns** |     **9.810 ns** |     **8.192 ns** |     **2.272 ns** |   **2,461.99 ns** |   **2,445.51 ns** |   **2,450.84 ns** |   **2,463.69 ns** |   **2,470.55 ns** |    **406,760.6** |      **5.3640 ns** |      **13.00** |    **1.551** |  **2.000** |  **-0.3524** |    **7** | *****            | **No**       |     **388 B** |          **-** |                    **-** |                **-** | **0.0114** |      **-** |    **1096 B** |
| ToImmutableHashSet  | 32    |   5,091.96 ns |    13.594 ns |    11.352 ns |     3.148 ns |   5,097.00 ns |   5,071.88 ns |   5,086.11 ns |   5,099.79 ns |   5,107.18 ns |    196,388.0 |      4.9258 ns |      13.00 |    1.689 |  2.000 |  -0.3742 |    9 | *            | No       |     388 B |          - |                    - |                - | 0.0229 |      - |    2120 B |
| ToImmutableHashSet  | 64    |  11,319.77 ns |    54.751 ns |    48.536 ns |    12.972 ns |  11,337.34 ns |  11,219.80 ns |  11,281.96 ns |  11,350.62 ns |  11,384.48 ns |     88,341.0 |      0.5142 ns |      14.00 |    2.015 |  2.000 |  -0.5619 |   11 | *            | No       |     388 B |          - |                    - |                - | 0.0305 |      - |    4168 B |
| ToImmutableHashSet  | 128   |  24,045.51 ns |   162.210 ns |   143.795 ns |    38.431 ns |  24,061.12 ns |  23,826.46 ns |  23,934.15 ns |  24,135.37 ns |  24,298.85 ns |     41,587.8 |    -12.2155 ns |      14.00 |    1.724 |  2.000 |  -0.0110 |   13 | *            | No       |     388 B |          - |                    - |                - | 0.0610 |      - |    8264 B |
| ToImmutableHashSet  | 256   |  60,123.30 ns | 1,186.338 ns | 2,046.375 ns |   331.966 ns |  59,197.95 ns |  58,097.48 ns |  58,735.61 ns |  61,212.90 ns |  65,516.56 ns |     16,632.5 |   -146.9829 ns |      38.00 |    3.492 |  2.087 |   1.2720 |   15 | *            | No       |     388 B |          - |                    - |                - | 0.1221 |      - |   16456 B |
| ToImmutableHashSet  | 512   | 147,066.84 ns | 1,303.873 ns | 1,155.850 ns |   308.914 ns | 147,034.58 ns | 145,055.81 ns | 146,430.87 ns | 147,710.77 ns | 149,571.04 ns |      6,799.6 |   -147.4569 ns |      14.00 |    2.707 |  2.000 |   0.2042 |   17 | *            | No       |     388 B |          - |                    - |                - | 0.2441 |      - |   32840 B |
| ToImmutableHashSet  | 1024  | 308,001.14 ns | 1,595.078 ns | 1,413.995 ns |   377.906 ns | 307,750.66 ns | 305,858.06 ns | 306,880.42 ns | 309,334.61 ns | 309,964.01 ns |      3,246.7 |   -181.9531 ns |      14.00 |    1.380 |  2.000 |   0.0254 |   19 | *            | No       |     388 B |          - |                    - |                - | 0.4883 |      - |   65608 B |
| ToImmutableHashSet  | 2048  | 688,526.71 ns | 8,103.903 ns | 7,580.395 ns | 1,957.250 ns | 686,545.70 ns | 679,088.67 ns | 683,074.32 ns | 693,421.58 ns | 701,499.71 ns |      1,452.4 |   -971.1248 ns |      15.00 |    1.820 |  2.000 |   0.5850 |   21 | *            | No       |     388 B |          - |                    - |                - | 0.9766 |      - |  131144 B |
| **Upsert**              | **16**    |     **227.84 ns** |     **0.893 ns** |     **0.835 ns** |     **0.216 ns** |     **228.02 ns** |     **225.24 ns** |     **227.64 ns** |     **228.30 ns** |     **228.76 ns** |  **4,388,962.7** |      **7.3922 ns** |      **15.00** |    **6.450** |  **2.000** |  **-1.8416** |    **5** | *****            | **No**       |     **471 B** |          **-** |                    **-** |                **-** |      **-** |      **-** |         **-** |
| Upsert              | 32    |     207.24 ns |     1.195 ns |     1.118 ns |     0.289 ns |     207.08 ns |     204.23 ns |     206.96 ns |     207.78 ns |     208.91 ns |  4,825,424.7 |      7.3557 ns |      15.00 |    4.217 |  2.000 |  -0.8140 |    4 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 64    |     246.14 ns |     1.349 ns |     1.262 ns |     0.326 ns |     246.31 ns |     242.79 ns |     245.79 ns |     246.90 ns |     247.82 ns |  4,062,721.6 |      7.3371 ns |      15.00 |    3.869 |  2.000 |  -1.0167 |    6 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 128   |     213.53 ns |     1.379 ns |     1.290 ns |     0.333 ns |     213.97 ns |     210.78 ns |     213.01 ns |     214.27 ns |     214.83 ns |  4,683,202.3 |      7.3334 ns |      15.00 |    2.373 |  2.000 |  -0.9151 |    4 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 256   |     228.69 ns |     0.881 ns |     0.781 ns |     0.209 ns |     228.68 ns |     227.18 ns |     228.23 ns |     229.21 ns |     230.19 ns |  4,372,760.3 |      6.8956 ns |      14.00 |    2.360 |  2.000 |  -0.0824 |    5 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 512   |     218.21 ns |     1.619 ns |     1.515 ns |     0.391 ns |     217.96 ns |     215.64 ns |     217.33 ns |     219.13 ns |     221.39 ns |  4,582,639.6 |      7.3045 ns |      15.00 |    2.372 |  2.000 |   0.3976 |    4 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 1024  |     232.01 ns |     1.741 ns |     1.544 ns |     0.413 ns |     231.79 ns |     229.53 ns |     231.03 ns |     232.74 ns |     234.85 ns |  4,310,076.9 |      6.7937 ns |      14.00 |    2.256 |  2.000 |   0.3299 |    5 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
| Upsert              | 2048  |     266.87 ns |    12.266 ns |    36.166 ns |     3.617 ns |     243.96 ns |     227.75 ns |     234.89 ns |     310.11 ns |     326.44 ns |  3,747,090.6 |     48.1917 ns |     100.00 |    1.268 |  3.288 |   0.3651 |    6 | *            | No       |     471 B |          - |                    - |                - |      - |      - |         - |
